var HANDJS=HANDJS||{};(function(){function a(){r=!0;clearTimeout(l);l=setTimeout(function(){r=!1},700)}function g(n,t){while(n){if(n.contains(t))return n;n=n.parentNode}return null}function v(n,t,i){for(var f=g(n,t),r=n,u=[];r&&r!==f;)s(r,"pointerenter")&&u.push(r),r=r.parentNode;while(u.length>0)i(u.pop())}function y(n,t,i){for(var u=g(n,t),r=n;r&&r!==u;)s(r,"pointerleave")&&i(r),r=r.parentNode}function nt(n,t){["pointerdown","pointermove","pointerup","pointerover","pointerout"].forEach(function(i){window.addEventListener(n(i),function(n){!r&&h(n.target,i)&&t(n,i,!0)})});window["on"+n("pointerenter").toLowerCase()]===undefined&&window.addEventListener(n("pointerover"),function(n){if(!r){var i=h(n.target,"pointerenter");if(i&&i!==window)i.contains(n.relatedTarget)||v(i,n.relatedTarget,function(i){t(n,"pointerenter",!1,i,n.relatedTarget)});else return}});window["on"+n("pointerleave").toLowerCase()]===undefined&&window.addEventListener(n("pointerout"),function(n){if(!r){var i=h(n.target,"pointerleave");if(i&&i!==window)i.contains(n.relatedTarget)||y(i,n.relatedTarget,function(i){t(n,"pointerleave",!1,i,n.relatedTarget)});else return}})}var r,l;if(!window.PointerEvent){Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var u=Object(this),r=u.length>>>0,t,i;if(r===0||(t=0,arguments.length>0&&(t=Number(arguments[1]),t!==t?t=0:t!==0&&t!==Infinity&&t!==-Infinity&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=r))return-1;for(i=t>=0?t:Math.max(r-Math.abs(t),0);i<r;i++)if(i in u&&u[i]===n)return i;return-1});Array.prototype.forEach||(Array.prototype.forEach=function(n,t){if(!this||!(n instanceof Function))throw new TypeError;for(var i=0;i<this.length;i++)n.call(t,this[i],i,this)});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/,"")});var c=["pointerdown","pointerup","pointermove","pointerover","pointerout","pointercancel","pointerenter","pointerleave"],tt=["PointerDown","PointerUp","PointerMove","PointerOver","PointerOut","PointerCancel","PointerEnter","PointerLeave"],p="touch",it="pen",w="mouse",u={},rt=function(n){while(n&&!n.handjs_forcePreventDefault)n=n.parentNode;return!!n||window.handjs_forcePreventDefault},o=function(n,t,i,r,u){var f,o,s;document.createEvent?(f=document.createEvent("MouseEvents"),f.initMouseEvent(t,i,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,u||n.relatedTarget)):(f=document.createEventObject(),f.screenX=n.screenX,f.screenY=n.screenY,f.clientX=n.clientX,f.clientY=n.clientY,f.ctrlKey=n.ctrlKey,f.altKey=n.altKey,f.shiftKey=n.shiftKey,f.metaKey=n.metaKey,f.button=n.button,f.relatedTarget=u||n.relatedTarget);f.offsetX===undefined&&(n.offsetX!==undefined?(Object&&Object.defineProperty!==undefined&&(Object.defineProperty(f,"offsetX",{writable:!0}),Object.defineProperty(f,"offsetY",{writable:!0})),f.offsetX=n.offsetX,f.offsetY=n.offsetY):Object&&Object.defineProperty!==undefined?(Object.defineProperty(f,"offsetX",{get:function(){return this.currentTarget&&this.currentTarget.offsetLeft?n.clientX-this.currentTarget.offsetLeft:n.clientX}}),Object.defineProperty(f,"offsetY",{get:function(){return this.currentTarget&&this.currentTarget.offsetTop?n.clientY-this.currentTarget.offsetTop:n.clientY}})):n.layerX!==undefined&&(f.offsetX=n.layerX-n.currentTarget.offsetLeft,f.offsetY=n.layerY-n.currentTarget.offsetTop));f.isPrimary=n.isPrimary!==undefined?n.isPrimary:!0;n.pressure?f.pressure=n.pressure:(o=0,n.which!==undefined?o=n.which:n.button!==undefined&&(o=n.button),f.pressure=o===0?0:.5);f.rotation=n.rotation?n.rotation:0;f.hwTimestamp=n.hwTimestamp?n.hwTimestamp:0;f.tiltX=n.tiltX?n.tiltX:0;f.tiltY=n.tiltY?n.tiltY:0;f.height=n.height?n.height:0;f.width=n.width?n.width:0;f.preventDefault=function(){n.preventDefault!==undefined&&n.preventDefault()};f.stopPropagation!==undefined&&(s=f.stopPropagation,f.stopPropagation=function(){n.stopPropagation!==undefined&&n.stopPropagation();s.call(this)});f.pointerId=n.pointerId;f.pointerType=n.pointerType;switch(f.pointerType){case 2:f.pointerType=p;break;case 3:f.pointerType=it;break;case 4:f.pointerType=w}r?r.dispatchEvent(f):n.target?n.target.dispatchEvent(f):n.srcElement.fireEvent("on"+e(t),f)},b=function(n,t,i,r,u){n.pointerId=1;n.pointerType=w;o(n,t,i,r,u)},f=function(n,t,i,r,u,f){var e=t.identifier+2;t.pointerId=e;t.pointerType=p;t.currentTarget=i;r.preventDefault!==undefined&&(t.preventDefault=function(){r.preventDefault()});o(t,n,u,i,f)},s=function(n,t){return n.__handjsGlobalRegisteredEvents&&n.__handjsGlobalRegisteredEvents[t]},h=function(n,t){while(n&&!s(n,t))n=n.parentNode;return n?n:s(window,t)?window:void 0},i=function(n,t,i,r,u,e){h(i,n)&&f(n,t,i,r,u,e)},e=function(n){return n.toLowerCase().replace("pointer","mouse")},k=function(n,t){var i=c.indexOf(t);return n+tt[i]},ut=function(n,t,i,r){if(n.__handjsRegisteredEvents===undefined&&(n.__handjsRegisteredEvents=[]),r){if(n.__handjsRegisteredEvents[t]!==undefined){n.__handjsRegisteredEvents[t]++;return}n.__handjsRegisteredEvents[t]=1;n.addEventListener(t,i,!1)}else{if(n.__handjsRegisteredEvents.indexOf(t)!==-1&&(n.__handjsRegisteredEvents[t]--,n.__handjsRegisteredEvents[t]!==0))return;n.removeEventListener(t,i);n.__handjsRegisteredEvents[t]=0}},d=function(n,t,i){var r,u,f;if(n.__handjsGlobalRegisteredEvents||(n.__handjsGlobalRegisteredEvents=[]),i){if(n.__handjsGlobalRegisteredEvents[t]!==undefined){n.__handjsGlobalRegisteredEvents[t]++;return}n.__handjsGlobalRegisteredEvents[t]=1}else n.__handjsGlobalRegisteredEvents[t]!==undefined&&(n.__handjsGlobalRegisteredEvents[t]--,n.__handjsGlobalRegisteredEvents[t]<0&&(n.__handjsGlobalRegisteredEvents[t]=0));window.MSPointerEvent?(r=function(n){return k("MS",n)},u=o):(r=e,u=b);switch(t){case"pointerenter":case"pointerleave":f=r(t);n["on"+f.toLowerCase()]!==undefined&&ut(n,f,function(n){u(n,t)},i)}},n=function(n){var t=n.prototype?n.prototype.addEventListener:n.addEventListener,i=function(n,i,r){c.indexOf(n)!==-1&&d(this,n,!0);t===undefined?this.attachEvent("on"+e(n),i):t.call(this,n,i,r)};n.prototype?n.prototype.addEventListener=i:n.addEventListener=i},t=function(n){var t=n.prototype?n.prototype.removeEventListener:n.removeEventListener,i=function(n,i,r){c.indexOf(n)!==-1&&d(this,n,!1);t===undefined?this.detachEvent(e(n),i):t.call(this,n,i,r)};n.prototype?n.prototype.removeEventListener=i:n.removeEventListener=i};n(window);n(window.HTMLElement||window.Element);n(document);n(HTMLBodyElement);n(HTMLDivElement);n(HTMLImageElement);n(HTMLUListElement);n(HTMLAnchorElement);n(HTMLLIElement);n(HTMLTableElement);window.HTMLSpanElement&&n(HTMLSpanElement);window.HTMLCanvasElement&&n(HTMLCanvasElement);window.SVGElement&&n(SVGElement);t(window);t(window.HTMLElement||window.Element);t(document);t(HTMLBodyElement);t(HTMLDivElement);t(HTMLImageElement);t(HTMLUListElement);t(HTMLAnchorElement);t(HTMLLIElement);t(HTMLTableElement);window.HTMLSpanElement&&t(HTMLSpanElement);window.HTMLCanvasElement&&t(HTMLCanvasElement);window.SVGElement&&t(SVGElement);r=!1;l=-1,function(){window.MSPointerEvent?nt(function(n){return k("MS",n)},o):(nt(e,b),window.ontouchstart!==undefined&&(window.addEventListener("touchstart",function(n){for(var t,r=0;r<n.changedTouches.length;++r)t=n.changedTouches[r],u[t.identifier]=t.target,i("pointerover",t,t.target,n,!0),v(t.target,null,function(i){f("pointerenter",t,i,n,!1)}),i("pointerdown",t,t.target,n,!0);a()}),window.addEventListener("touchend",function(n){for(var t,e,r=0;r<n.changedTouches.length;++r)t=n.changedTouches[r],e=u[t.identifier],i("pointerup",t,e,n,!0),i("pointerout",t,e,n,!0),y(e,null,function(i){f("pointerleave",t,i,n,!1)});a()}),window.addEventListener("touchmove",function(n){for(var o=0;o<n.changedTouches.length;++o){var e=n.changedTouches[o],r=document.elementFromPoint(e.clientX,e.clientY),t=u[e.identifier];(t&&rt(t)===!0&&n.preventDefault(),i("pointermove",e,t,n,!0),t!==r)&&(t&&(i("pointerout",e,t,n,!0,r),t.contains(r)||y(t,r,function(t){f("pointerleave",e,t,n,!1,r)})),r&&(i("pointerover",e,r,n,!0,t),r.contains(t)||v(r,t,function(i){f("pointerenter",e,i,n,!1,t)})),u[e.identifier]=r)}a()}),window.addEventListener("touchcancel",function(n){for(var r,t=0;t<n.changedTouches.length;++t)r=n.changedTouches[t],i("pointercancel",r,u[r.identifier],n,!0)})))}();navigator.pointerEnabled===undefined&&(navigator.pointerEnabled=!0,navigator.msPointerEnabled&&(navigator.maxTouchPoints=navigator.msMaxTouchPoints))}})();
/*
//# sourceMappingURL=hand.base.min.js.map
*/